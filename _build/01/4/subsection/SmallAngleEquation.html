---
redirect_from:
  - "/01/4/subsection/smallangleequation"
interact_link: content/01/4/subsection/SmallAngleEquation.ipynb
kernel_name: python3
has_widgets: false
title: |-
  Smallangleequation
prev_page:
  url: /01/4/subsection/Curl_vector_field.html
  title: |-
    Curl Vector Field
next_page:
  url: /02-scales-in-astronomy.html
  title: |-
    Scales of the Universe
suffix: .ipynb

comment: "***PROGRAMMATICALLY GENERATED, DO NOT EDIT. SEE ORIGINAL FILES IN /content***"
---

    <main class="jupyter-page">
    
<div class="jb_cell tag_hide_input">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">IPython.display</span> <span class="k">import</span> <span class="n">HTML</span>

<span class="n">HTML</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;&lt;script&gt;</span>
<span class="s1">code_show=true; </span>
<span class="s1">function code_toggle() {</span>
<span class="s1"> if (code_show){</span>
<span class="s1"> $(&#39;div.input&#39;).hide();</span>
<span class="s1"> } else {</span>
<span class="s1"> $(&#39;div.input&#39;).show();</span>
<span class="s1"> }</span>
<span class="s1"> code_show = !code_show</span>
<span class="s1">} </span>
<span class="s1">$( document ).ready(code_toggle);</span>
<span class="s1">&lt;/script&gt;</span>
<span class="s1">The raw code for this IPython notebook is by default hidden for easier reading.</span>
<span class="s1">To toggle on/off the raw code, click &lt;a href=&quot;javascript:code_toggle()&quot;&gt;here&lt;/a&gt;.&#39;&#39;&#39;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<script>
code_show=true; 
function code_toggle() {
 if (code_show){
 $('div.input').hide();
 } else {
 $('div.input').show();
 }
 code_show = !code_show
} 
$( document ).ready(code_toggle);
</script>
The raw code for this IPython notebook is by default hidden for easier reading.
To toggle on/off the raw code, click <a href="javascript:code_toggle()">here</a>.
</div>

</div>
</div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Small-Angle-Approximation-Interactive">Small Angle Approximation Interactive<a class="anchor-link" href="#Small-Angle-Approximation-Interactive"> </a></h2><p>This interactive can be used to explore the relationship between an object's size, its distance, and its observed angular size.  When an object is far away compared to its size, astronomers use the <em>small angle approximation</em> to simplify the relationship.</p>
<p>There are two control sliders: the first for the size of the object (s) and the second for the distance from Earth to the object (d). The interactive uses both the "exact" equation and small angle approximation to estimate the angular size of the object:</p>
<p>$$\theta_{exact} = 2\arctan\left(\frac{s}{2d}\right) \;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\; \theta_{approx} = \frac{s}{d}$$</p>
<p><strong>Note</strong>: The above espressions give the angle $\theta$ in radians. To get an angle in degrees, we must multiply by the conversion factor $\frac{180^{\circ}}{\pi}$ (because there are $2\pi$ radians or $360^{\circ}$ in a circle).</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Originally created on June 13, 2018 by Samuel Holen</span>

<span class="kn">import</span> <span class="nn">ipywidgets</span> <span class="k">as</span> <span class="nn">widgets</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">bqplot.pyplot</span> <span class="k">as</span> <span class="nn">bq</span>
<span class="kn">from</span> <span class="nn">IPython.display</span> <span class="k">import</span> <span class="n">display</span>
</pre></div>

</div>
</div>
</div>

</div>
</div>

<div class="jb_cell tag_hide_input">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">approx_theta</span><span class="p">(</span><span class="n">s</span><span class="p">,</span><span class="n">d</span><span class="p">):</span>
    <span class="c1"># Small angle approximation equation</span>
    <span class="k">return</span> <span class="n">s</span><span class="o">/</span><span class="n">d</span>

<span class="k">def</span> <span class="nf">exact_theta</span><span class="p">(</span><span class="n">s</span><span class="p">,</span><span class="n">d</span><span class="p">):</span>
    <span class="c1"># Exact equation for theta</span>
    <span class="k">return</span> <span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">arctan</span><span class="p">(</span><span class="n">s</span><span class="o">/</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">d</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">circle</span><span class="p">(</span><span class="n">r</span><span class="p">,</span><span class="n">d</span><span class="o">=</span><span class="mf">0.</span><span class="p">):</span>
    <span class="c1"># Creates a circle given a radius r and displacement along the </span>
    <span class="c1"># x-axis d </span>
    <span class="n">theta</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span><span class="mi">1000</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">r</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span><span class="o">+</span><span class="n">d</span><span class="p">,</span><span class="n">r</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">theta</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">par_circ</span><span class="p">(</span><span class="n">r</span><span class="p">,</span><span class="n">theta0</span><span class="p">,</span><span class="n">theta1</span><span class="p">,</span><span class="n">d</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span><span class="n">h</span><span class="o">=</span><span class="mf">0.</span><span class="p">):</span>
    <span class="n">theta</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="n">theta0</span><span class="p">,</span><span class="n">theta1</span><span class="p">,</span><span class="mi">1000</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">r</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span><span class="o">+</span><span class="n">d</span><span class="p">,</span><span class="n">r</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span><span class="o">+</span><span class="n">h</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">ellipse</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">d</span><span class="o">=</span><span class="mf">0.</span><span class="p">):</span>
    <span class="c1"># Creates an ellipse centered at (d,0) with a semimajor axis of &#39;a&#39;</span>
    <span class="c1"># in the x direction and &#39;b&#39; in the y direction</span>
    <span class="n">theta</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span><span class="mi">1000</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">a</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">theta</span><span class="p">)</span><span class="o">+</span><span class="n">d</span><span class="p">,</span><span class="n">b</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">theta</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">update</span><span class="p">(</span><span class="n">change</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="c1"># Update the display.</span>
    <span class="n">D1</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="n">h_slider</span><span class="o">.</span><span class="n">value</span><span class="o">/</span><span class="mi">2</span><span class="p">]</span>
    <span class="n">D2</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="n">h_slider</span><span class="o">.</span><span class="n">value</span><span class="o">/</span><span class="mi">2</span><span class="p">]</span>
    <span class="n">D1</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="n">d_slider</span><span class="o">.</span><span class="n">value</span><span class="p">]</span>
    <span class="n">D2</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="n">d_slider</span><span class="o">.</span><span class="n">value</span><span class="p">]</span>
    <span class="n">ref</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="n">d_slider</span><span class="o">.</span><span class="n">value</span><span class="p">]</span>
    <span class="c1"># Note that the ellipse is used so that the display needn&#39;t be a square.</span>
    <span class="n">X_new</span><span class="p">,</span> <span class="n">Y_new</span> <span class="o">=</span> <span class="n">circle</span><span class="p">(</span><span class="n">h_slider</span><span class="o">.</span><span class="n">value</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="n">d_slider</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
    <span class="n">Object</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">X_new</span>
    <span class="n">Object</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">Y_new</span>
    
    <span class="c1"># Update the resulting angles</span>
    <span class="n">theta_approx</span> <span class="o">=</span> <span class="mi">180</span><span class="o">/</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="n">approx_theta</span><span class="p">(</span><span class="n">h_slider</span><span class="o">.</span><span class="n">value</span><span class="p">,</span><span class="n">d_slider</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
    <span class="n">theta_exact</span> <span class="o">=</span> <span class="mi">180</span><span class="o">/</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="n">exact_theta</span><span class="p">(</span><span class="n">h_slider</span><span class="o">.</span><span class="n">value</span><span class="p">,</span><span class="n">d_slider</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
    
    <span class="n">approx_eqn</span><span class="o">.</span><span class="n">value</span><span class="o">=</span><span class="s1">&#39;&lt;p&gt;&lt;b&gt;&quot;Small Angle&quot;  Equation:&lt;/b&gt; &lt;br/&gt; </span><span class="si">{:.5f}</span><span class="s1">&amp;deg; = (180&amp;deg;/&amp;pi;) * (</span><span class="si">{}</span><span class="s1"> / </span><span class="si">{}</span><span class="s1">)&lt;/p&gt;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">theta_approx</span><span class="p">,</span><span class="n">h_slider</span><span class="o">.</span><span class="n">value</span><span class="p">,</span><span class="n">d_slider</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
    <span class="n">exact_eqn</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span><span class="s1">&#39;&lt;p&gt;&lt;b&gt;&quot;Exact&quot; Equation:&lt;/b&gt; &lt;br/&gt; </span><span class="si">{:.5f}</span><span class="s1">&amp;deg; = 2 arctan( </span><span class="si">{}</span><span class="s1"> / 2*</span><span class="si">{}</span><span class="s1"> )&lt;/p&gt;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">theta_exact</span><span class="p">,</span><span class="n">h_slider</span><span class="o">.</span><span class="n">value</span><span class="p">,</span><span class="n">d_slider</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>    
    <span class="n">difference_eqn</span><span class="o">.</span><span class="n">value</span><span class="o">=</span><span class="s1">&#39;&lt;p&gt;&lt;b&gt;Difference:&lt;/b&gt; &lt;br/&gt; </span><span class="si">{:.5f}</span><span class="s1">&amp;deg; (</span><span class="si">{:.2f}</span><span class="s1">%)&lt;/p&gt;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">theta_exact</span><span class="o">-</span><span class="n">theta_approx</span><span class="p">),</span> <span class="mi">100</span><span class="o">*</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">theta_exact</span><span class="o">-</span><span class="n">theta_approx</span><span class="p">)</span><span class="o">/</span><span class="n">theta_exact</span><span class="p">))</span>
    
    <span class="n">arc_loc</span> <span class="o">=</span> <span class="p">(</span><span class="n">d_slider</span><span class="o">.</span><span class="n">value</span> <span class="o">-</span> <span class="n">h_slider</span><span class="o">.</span><span class="n">value</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">/</span><span class="mi">3</span>
    <span class="n">angle_loc</span> <span class="o">=</span> <span class="n">exact_theta</span><span class="p">(</span><span class="n">h_slider</span><span class="o">.</span><span class="n">value</span><span class="p">,</span><span class="n">d_slider</span><span class="o">.</span><span class="n">value</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span>
    <span class="n">xc</span><span class="p">,</span><span class="n">yc</span> <span class="o">=</span> <span class="n">par_circ</span><span class="p">(</span><span class="n">r</span><span class="o">=</span><span class="n">arc_loc</span><span class="p">,</span> <span class="n">theta0</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">-</span><span class="n">angle_loc</span><span class="p">,</span> <span class="n">theta1</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">+</span><span class="n">angle_loc</span><span class="p">)</span>

    <span class="n">angle_ex</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="n">xc</span>
    <span class="n">angle_ex</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="n">yc</span>
</pre></div>

</div>
</div>
</div>

</div>
</div>

<div class="jb_cell tag_hide_input">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">h_slider</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">FloatSlider</span><span class="p">(</span>
    <span class="n">value</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
    <span class="nb">min</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span>
    <span class="nb">max</span><span class="o">=</span><span class="mf">30.05</span><span class="p">,</span>
    <span class="n">step</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span>
    <span class="n">disabled</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">continuous_update</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">orientation</span><span class="o">=</span><span class="s1">&#39;horizontal&#39;</span><span class="p">,</span>
    <span class="n">readout</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">readout_format</span><span class="o">=</span><span class="s1">&#39;.2f&#39;</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">d_slider</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">FloatSlider</span><span class="p">(</span>
    <span class="n">value</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span>
    <span class="nb">min</span><span class="o">=</span><span class="mf">20.</span><span class="p">,</span>
    <span class="nb">max</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
    <span class="n">step</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span>
    <span class="n">disabled</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">continuous_update</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">orientation</span><span class="o">=</span><span class="s1">&#39;horizontal&#39;</span><span class="p">,</span>
    <span class="n">readout</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>

<span class="n">theta_approx</span> <span class="o">=</span> <span class="mi">180</span><span class="o">/</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="n">approx_theta</span><span class="p">(</span><span class="n">h_slider</span><span class="o">.</span><span class="n">value</span><span class="p">,</span><span class="n">d_slider</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
<span class="n">theta_exact</span> <span class="o">=</span> <span class="mi">180</span><span class="o">/</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="n">exact_theta</span><span class="p">(</span><span class="n">h_slider</span><span class="o">.</span><span class="n">value</span><span class="p">,</span><span class="n">d_slider</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>

<span class="c1"># Create labels for sliders</span>
<span class="n">h_label</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="s1">&#39;Size of star (s)&#39;</span><span class="p">)</span>
<span class="n">d_label</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="s1">&#39;Distance to star (d)&#39;</span><span class="p">)</span>

<span class="c1"># Create text display</span>
<span class="n">approx_eqn</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">HTML</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="s1">&#39;&lt;p&gt;&lt;b&gt;&quot;Small Angle&quot; Equation:&lt;/b&gt; &lt;br/&gt; </span><span class="si">{:.5f}</span><span class="s1">&amp;deg; = (180&amp;deg;/&amp;pi;) * (</span><span class="si">{}</span><span class="s1"> / </span><span class="si">{}</span><span class="s1">)&lt;/p&gt;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">theta_approx</span><span class="p">,</span><span class="n">h_slider</span><span class="o">.</span><span class="n">value</span><span class="p">,</span><span class="n">d_slider</span><span class="o">.</span><span class="n">value</span><span class="p">))</span>
<span class="n">exact_eqn</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">HTML</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="s1">&#39;&lt;p&gt;&lt;b&gt;&quot;Exact&quot; Equation:&lt;/b&gt; &lt;br/&gt; </span><span class="si">{:.5f}</span><span class="s1">&amp;deg; = 2 arctan( </span><span class="si">{}</span><span class="s1"> / 2*</span><span class="si">{}</span><span class="s1"> )&lt;/p&gt;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">theta_exact</span><span class="p">,</span><span class="n">h_slider</span><span class="o">.</span><span class="n">value</span><span class="p">,</span><span class="n">d_slider</span><span class="o">.</span><span class="n">value</span><span class="p">))</span>
<span class="n">difference_eqn</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">HTML</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="s1">&#39;&lt;p&gt;&lt;b&gt;Difference:&lt;/b&gt; &lt;br/&gt; </span><span class="si">{:.5f}</span><span class="s1">&amp;deg; (</span><span class="si">{:.2f}</span><span class="s1">%)&lt;/p&gt;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">theta_exact</span><span class="o">-</span><span class="n">theta_approx</span><span class="p">),</span> <span class="mi">100</span><span class="o">*</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">theta_exact</span><span class="o">-</span><span class="n">theta_approx</span><span class="p">)</span><span class="o">/</span><span class="n">theta_exact</span><span class="p">)))</span>
                             
<span class="n">blank</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
</div>

<div class="jb_cell tag_hide_input">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">## PLOT/FIGURE ##</span>

<span class="c1"># Sets axis scale for x and y to </span>
<span class="n">sc_x</span> <span class="o">=</span> <span class="n">bq</span><span class="o">.</span><span class="n">LinearScale</span><span class="p">(</span><span class="nb">min</span><span class="o">=-</span><span class="mi">5</span><span class="p">,</span><span class="nb">max</span><span class="o">=</span><span class="mi">115</span><span class="p">)</span>
<span class="n">sc_y</span> <span class="o">=</span> <span class="n">bq</span><span class="o">.</span><span class="n">LinearScale</span><span class="p">(</span><span class="nb">min</span><span class="o">=-</span><span class="mi">26</span><span class="p">,</span><span class="nb">max</span><span class="o">=</span><span class="mi">26</span><span class="p">)</span>

<span class="c1"># Get the range to work with</span>
<span class="n">x_range</span> <span class="o">=</span> <span class="n">sc_x</span><span class="o">.</span><span class="n">max</span> <span class="o">-</span> <span class="n">sc_x</span><span class="o">.</span><span class="n">min</span>
<span class="n">y_range</span> <span class="o">=</span> <span class="n">sc_y</span><span class="o">.</span><span class="n">max</span> <span class="o">-</span> <span class="n">sc_y</span><span class="o">.</span><span class="n">min</span>

<span class="c1"># Initial height and distance of star</span>
<span class="n">init_h</span> <span class="o">=</span> <span class="n">h_slider</span><span class="o">.</span><span class="n">value</span>
<span class="n">init_d</span> <span class="o">=</span> <span class="n">d_slider</span><span class="o">.</span><span class="n">value</span>

<span class="c1"># Note that the ellipse is used so that the display needn&#39;t be a square.</span>
<span class="c1"># Creates a circular &#39;star&#39;</span>
<span class="n">X</span><span class="p">,</span><span class="n">Y</span> <span class="o">=</span> <span class="n">circle</span><span class="p">(</span><span class="n">r</span><span class="o">=</span><span class="n">init_h</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="n">d</span><span class="o">=</span><span class="n">init_d</span><span class="p">)</span>

<span class="c1"># Sets up the axes, grid-lines are set to black so that they blend in with the background.</span>
<span class="n">ax_x</span> <span class="o">=</span> <span class="n">bq</span><span class="o">.</span><span class="n">Axis</span><span class="p">(</span><span class="n">scale</span><span class="o">=</span><span class="n">sc_x</span><span class="p">,</span> <span class="n">grid_color</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">,</span> <span class="n">num_ticks</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">ax_y</span> <span class="o">=</span> <span class="n">bq</span><span class="o">.</span><span class="n">Axis</span><span class="p">(</span><span class="n">scale</span><span class="o">=</span><span class="n">sc_y</span><span class="p">,</span> <span class="n">orientation</span><span class="o">=</span><span class="s1">&#39;vertical&#39;</span><span class="p">,</span> <span class="n">grid_color</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">,</span> <span class="n">num_ticks</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="c1"># Draws the lines to the top and bottom of the star respectively</span>
<span class="n">D1</span> <span class="o">=</span> <span class="n">bq</span><span class="o">.</span><span class="n">Lines</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="n">init_d</span><span class="p">],</span> <span class="n">y</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="n">init_h</span><span class="o">/</span><span class="mi">2</span><span class="p">],</span> <span class="n">scales</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="n">sc_x</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="n">sc_y</span><span class="p">},</span> <span class="n">colors</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;white&#39;</span><span class="p">])</span>
<span class="n">D2</span> <span class="o">=</span> <span class="n">bq</span><span class="o">.</span><span class="n">Lines</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="n">init_d</span><span class="p">],</span> <span class="n">y</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="n">init_h</span><span class="o">/</span><span class="mi">2</span><span class="p">],</span> <span class="n">scales</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="n">sc_x</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="n">sc_y</span><span class="p">},</span> <span class="n">colors</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;white&#39;</span><span class="p">])</span>

<span class="c1"># Creates the star</span>
<span class="n">Object</span> <span class="o">=</span> <span class="n">bq</span><span class="o">.</span><span class="n">Lines</span><span class="p">(</span><span class="n">scales</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="n">sc_x</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="n">sc_y</span><span class="p">},</span> <span class="n">x</span><span class="o">=</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">Y</span><span class="p">,</span> <span class="n">colors</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;blue&#39;</span><span class="p">],</span> 
                  <span class="n">fill</span><span class="o">=</span><span class="s1">&#39;inside&#39;</span><span class="p">,</span> <span class="n">fill_colors</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;blue&#39;</span><span class="p">])</span>

<span class="c1"># Creates a reference line.</span>
<span class="n">ref</span> <span class="o">=</span> <span class="n">bq</span><span class="o">.</span><span class="n">Lines</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="n">init_d</span><span class="p">],</span> <span class="n">y</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span> <span class="n">scales</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="n">sc_x</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="n">sc_y</span><span class="p">},</span> <span class="n">colors</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;white&#39;</span><span class="p">],</span> <span class="n">line_style</span><span class="o">=</span><span class="s1">&#39;dashed&#39;</span><span class="p">)</span>

<span class="n">arc_loc</span> <span class="o">=</span> <span class="p">(</span><span class="n">init_d</span> <span class="o">-</span> <span class="n">init_h</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span><span class="o">/</span><span class="mi">3</span>
<span class="n">angle_loc</span> <span class="o">=</span> <span class="n">exact_theta</span><span class="p">(</span><span class="n">init_h</span><span class="p">,</span><span class="n">init_d</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span>
<span class="n">xc</span><span class="p">,</span><span class="n">yc</span> <span class="o">=</span> <span class="n">par_circ</span><span class="p">(</span><span class="n">r</span><span class="o">=</span><span class="n">arc_loc</span><span class="p">,</span> <span class="n">theta0</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">-</span><span class="n">angle_loc</span><span class="p">,</span> <span class="n">theta1</span><span class="o">=</span><span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">+</span><span class="n">angle_loc</span><span class="p">)</span>

<span class="n">angle_ex</span> <span class="o">=</span> <span class="n">bq</span><span class="o">.</span><span class="n">Lines</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">xc</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">yc</span><span class="p">,</span> <span class="n">scales</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="n">sc_x</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="n">sc_y</span><span class="p">},</span> <span class="n">colors</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;white&#39;</span><span class="p">])</span>

<span class="n">angle_label</span> <span class="o">=</span> <span class="n">bq</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">y</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">scales</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;x&#39;</span><span class="p">:</span> <span class="n">sc_x</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">:</span> <span class="n">sc_y</span><span class="p">},</span>
                   <span class="n">text</span><span class="o">=</span><span class="p">[</span><span class="sa">r</span><span class="s1">&#39;$$\theta$$&#39;</span><span class="p">],</span> <span class="n">default_size</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">font_weight</span><span class="o">=</span><span class="s1">&#39;bolder&#39;</span><span class="p">,</span>
                   <span class="n">colors</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;white&#39;</span><span class="p">],</span> <span class="n">update_on_move</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># Update the the plot/display</span>
<span class="n">h_slider</span><span class="o">.</span><span class="n">observe</span><span class="p">(</span><span class="n">update</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;value&#39;</span><span class="p">])</span>
<span class="n">d_slider</span><span class="o">.</span><span class="n">observe</span><span class="p">(</span><span class="n">update</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;value&#39;</span><span class="p">])</span>

<span class="c1"># Creates the figure. The background color is set to black so that it looks like &#39;space.&#39; Also,</span>
<span class="c1"># removes the default y padding.</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">bq</span><span class="o">.</span><span class="n">Figure</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s1">&#39;Small Angle Approximation&#39;</span><span class="p">,</span> <span class="n">marks</span><span class="o">=</span><span class="p">[</span><span class="n">Object</span><span class="p">,</span><span class="n">D1</span><span class="p">,</span><span class="n">D2</span><span class="p">,</span><span class="n">angle_ex</span><span class="p">],</span> <span class="n">axes</span><span class="o">=</span><span class="p">[</span><span class="n">ax_x</span><span class="p">,</span> <span class="n">ax_y</span><span class="p">],</span> 
                <span class="n">padding_x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">padding_y</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">animation</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">background_style</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;fill&#39;</span> <span class="p">:</span> <span class="s1">&#39;black&#39;</span><span class="p">})</span>

<span class="c1"># Display to the screen</span>

<span class="c1"># Set up the figure</span>
<span class="n">fig_width</span> <span class="o">=</span> <span class="mi">750</span>
<span class="n">fig</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{:.0f}</span><span class="s1">px&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">fig_width</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">height</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{:.0f}</span><span class="s1">px&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">fig_width</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>

<span class="c1"># Set up the bottom part containing the controls and display of equations</span>
<span class="n">h_box</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">VBox</span><span class="p">([</span><span class="n">h_label</span><span class="p">,</span> <span class="n">h_slider</span><span class="p">])</span>
<span class="n">d_box</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">VBox</span><span class="p">([</span><span class="n">d_label</span><span class="p">,</span> <span class="n">d_slider</span><span class="p">])</span>
<span class="n">slide_box</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">HBox</span><span class="p">([</span><span class="n">h_box</span><span class="p">,</span> <span class="n">d_box</span><span class="p">])</span>
<span class="n">h_box</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{:.0f}</span><span class="s1">px&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">fig_width</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
<span class="n">d_box</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{:.0f}</span><span class="s1">px&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">fig_width</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>

<span class="n">eqn_box</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">HBox</span><span class="p">([</span><span class="n">exact_eqn</span><span class="p">,</span> <span class="n">approx_eqn</span><span class="p">,</span> <span class="n">difference_eqn</span><span class="p">])</span>
<span class="n">exact_eqn</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{:.0f}</span><span class="s1">px&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">fig_width</span><span class="o">/</span><span class="mi">3</span><span class="p">)</span>
<span class="n">approx_eqn</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{:.0f}</span><span class="s1">px&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">fig_width</span><span class="o">/</span><span class="mi">3</span><span class="p">)</span>
<span class="n">difference_eqn</span><span class="o">.</span><span class="n">layout</span><span class="o">.</span><span class="n">width</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{:.0f}</span><span class="s1">px&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">fig_width</span><span class="o">/</span><span class="mi">3</span><span class="p">)</span>

<span class="n">BOX</span> <span class="o">=</span> <span class="n">widgets</span><span class="o">.</span><span class="n">VBox</span><span class="p">([</span><span class="n">fig</span><span class="p">,</span> <span class="n">slide_box</span><span class="p">,</span> <span class="n">eqn_box</span><span class="p">])</span>
<span class="n">display</span><span class="p">(</span><span class="n">BOX</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="jb_output_wrapper }}">
<div class="output_area">




 
 
<div id="081ee984-69bf-4a55-a141-616f4770d085"></div>
<div class="output_subarea output_widget_view ">
<script type="text/javascript">
var element = $('#081ee984-69bf-4a55-a141-616f4770d085');
</script>
<script type="application/vnd.jupyter.widget-view+json">
{"model_id": "42a6e007e0e74735aeb038d947e12c5b", "version_major": 2, "version_minor": 0}
</script>
</div>

</div>
</div>
</div>
</div>

</div>
</div>

 


    </main>
    